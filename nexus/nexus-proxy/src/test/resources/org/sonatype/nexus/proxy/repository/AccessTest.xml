<plexus>
	<components>
	    
	    <component>
			<role>org.sonatype.nexus.configuration.application.ApplicationConfiguration</role>
			<implementation>org.sonatype.nexus.configuration.SimpleSecureApplicationConfiguration</implementation>
		</component>
		
		<component>
		    <role>org.sonatype.jsecurity.locators.RememberMeLocator</role>
		    <implementation>org.sonatype.nexus.proxy.security.SimpleRememberMeLocator</implementation>
		</component>
		
		<component>
		    <role>org.sonatype.jsecurity.locators.RealmLocator</role>
		    <implementation>org.sonatype.nexus.proxy.security.SimpleRealmLocator</implementation>
			<requirements>
	        <requirement>
	          <role>org.jsecurity.realm.Realm</role>
	          <role-hint>default</role-hint>
	          <field-name>realm</field-name>
	        </requirement>
	      </requirements>
		</component>
		
		<component>
		    <role>org.jsecurity.realm.Realm</role>
		    <implementation>org.sonatype.nexus.proxy.security.PlexusConfiguredRealm</implementation>
		    <configuration>
		    	<userPrivilageMap>
		    	  <allrepo3>nexus:target:*:repo3:*,nexus:repoview:repo3,nexus:repoview:test</allrepo3>
		    	  <allrepo1>nexus:target:*:repo1:*,nexus:repoview:repo1,nexus:repoview:test</allrepo1>
		    	  <alltest>nexus:target:*:test:*,nexus:repoview:test,nexus:repoview:repo3,nexus:repoview:repo1</alltest>
		    	  <repo3-noview>nexus:target:*:repo3:*</repo3-noview>
		    	  <repo1-noview>nexus:target:*:repo1:*</repo1-noview>
		    	  <test-noview>nexus:target:*:test:*</test-noview>
		    	</userPrivilageMap>
		    </configuration>
		</component>
	
		<component>
			<role>org.sonatype.jettytestsuite.ServletServer</role>
			<implementation>
				org.sonatype.jettytestsuite.ServletServer
			</implementation>
			<configuration>
				<port>12345</port>
				<webappContexts>
					<webappContext>
						<name>repo1</name>
						<servletInfos>
							<servletInfo>
								<mapping>/*</mapping>
								<servletClass>
									org.mortbay.jetty.servlet.DefaultServlet
								</servletClass>
								<parameters>
									<property>
										<name>resourceBase</name>
										<value>
											${basedir}/target/test-classes/repo1
										</value>
									</property>
									<property>
										<name>dirAllowed</name>
										<value>true</value>
									</property>
								</parameters>
							</servletInfo>
						</servletInfos>
					</webappContext>
					<webappContext>
						<name>repo2</name>
						<servletInfos>
							<servletInfo>
								<mapping>/*</mapping>
								<servletClass>
									org.mortbay.jetty.servlet.DefaultServlet
								</servletClass>
								<parameters>
									<property>
										<name>resourceBase</name>
										<value>
											${basedir}/target/test-classes/repo2
										</value>
									</property>
									<property>
										<name>dirAllowed</name>
										<value>true</value>
									</property>
								</parameters>
							</servletInfo>
						</servletInfos>
					</webappContext>
					<webappContext>
						<name>repo3</name>
						<servletInfos>
							<servletInfo>
								<mapping>/*</mapping>
								<servletClass>
									org.mortbay.jetty.servlet.DefaultServlet
								</servletClass>
								<parameters>
									<property>
										<name>resourceBase</name>
										<value>
											${basedir}/target/test-classes/repo3
										</value>
									</property>
									<property>
										<name>dirAllowed</name>
										<value>true</value>
									</property>
								</parameters>
							</servletInfo>
						</servletInfos>
					</webappContext>
				</webappContexts>
			</configuration>
		</component>
	</components>
</plexus>
